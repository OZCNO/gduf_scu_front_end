webpackJsonp([8],{"6bvP":function(e,o){},K31e:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t("n5Qe"),i={name:"Login",data:function(){return{logining:!1,loginForm:{username:"",password:"",role:1},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{loginSubmit:function(e){var o=this;this.$refs[e].validate(function(e){if(!e)return o.$message.error("输入不符合要求"),!1;o.logining=!0,Object(r.n)(o.loginForm).then(function(e){o.logining=!1;var t=e.data,r=t.code,i=t.msg,a=t.data;"200"!==r?o.$message.error(i):(localStorage.setItem("role",o.loginForm.role),localStorage.setItem("name",a.user.name),localStorage.setItem("avatar",a.user.avatar||"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3502149281,2119482052&fm=27&gp=0.jpg"),o.$router.push({path:["personCenter","clubMemberAudit","officerAudit","unionActivityAudit"][o.loginForm.role-1],query:{role:o.loginForm.role,name:"郑婵娜",avatar:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3502149281,2119482052&fm=27&gp=0.jpg"}}))})})}}},a={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"loginContainer"},[t("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,size:"medium"}},[t("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{staticClass:"loginInput",attrs:{placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(o){e.$set(e.loginForm,"username",o)},expression:"loginForm.username"}}),e._v(" "),t("i",{staticClass:"iconfont icon-yonghu"})],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{staticClass:"loginInput",attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}}),e._v(" "),t("i",{staticClass:"iconfont icon-mima"})],1),e._v(" "),t("el-form-item",[t("el-radio-group",{model:{value:e.loginForm.role,callback:function(o){e.$set(e.loginForm,"role",o)},expression:"loginForm.role"}},[t("ul",[t("li",{staticClass:"loginType"},[t("el-radio",{attrs:{label:1}},[e._v("学生")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("校社团管理员")])],1),e._v(" "),t("li",{staticClass:"loginType"},[t("el-radio",{attrs:{label:4}},[e._v("老师")]),e._v(" "),t("el-radio",{attrs:{label:3}},[e._v("校社联管理员")])],1)])])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",id:"loginSubmit",loading:e.logining},on:{click:function(o){e.loginSubmit("loginForm")}}},[e._v("登录")])],1),e._v(" "),t("el-form-item",[t("router-link",{attrs:{to:{name:"Reg"}}},[t("i",{staticClass:"el-icon-d-arrow-right"}),t("i",{staticClass:"el-icon-d-arrow-right"}),t("i",{staticClass:"el-icon-d-arrow-right"}),e._v("注册")])],1)],1)],1)},staticRenderFns:[]};var l=t("VU/8")(i,a,!1,function(e){t("6bvP")},"data-v-6c96d916",null);o.default=l.exports}});
//# sourceMappingURL=8.dc3a55b51421569d8904.js.map