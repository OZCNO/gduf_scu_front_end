{"version":3,"sources":["webpack:///src/components/Register.vue","webpack:///./src/components/Register.vue?158b","webpack:///./src/components/Register.vue"],"names":["Register","name","data","_this","this","reging","institute","regForm","username","password","repassword","regRules","required","message","trigger","min","max","validator","rule","value","callback","test","Error","methods","regSubmit","formName","_this2","$refs","validate","valid","para","Object","api","then","res","_res$data","code","msg","console","log","localStorage","setItem","user","avatar","$router","push","path","$message","error","catch","err","components_Register","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","rules","size","_v","prop","placeholder","$$v","$set","expression","type","id","loading","on","click","$event","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.213bd61b2d927364b038.js","sourcesContent":["<template>\r\n\t<div class=\"regContainer\">\r\n\t\t<el-form class=\"regForm\" ref=\"regForm\" :model='regForm' :rules='regRules' size=\"medium\">\r\n\t\t\t<h3 class=\"title\">学生注册</h3>\r\n\t\t\t\t<el-form-item prop=\"name\">\r\n\t\t\t\t\t<el-input v-model=\"regForm.name\" placeholder=\"请输入姓名\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item prop=\"username\">\r\n\t\t\t\t\t<el-input v-model=\"regForm.username\" placeholder=\"请输入账号，即学号\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item prop=\"password\">\r\n\t\t\t\t\t<el-input  v-model=\"regForm.password\" type=\"password\" placeholder=\"请输入密码\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item prop=\"repassword\">\r\n\t\t\t\t\t<el-input  v-model=\"regForm.repassword\" type=\"password\"placeholder=\"请再次输入密码\"></el-input>\r\n\t\t\t\t</el-form-item>\t\t\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"regSubmit('regForm')\"  id=\"regSubmit\" :loading=\"reging\">注册</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<router-link v-bind:to=\"{name:'Login'}\" class=\"logLink\"><i class=\"el-icon-d-arrow-right\"></i><i class=\"el-icon-d-arrow-right\"></i><i class=\"el-icon-d-arrow-right\"></i>登录</router-link>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n<script>\r\n  import { requestRegister } from '../api.js';\r\nexport default{\r\n\tname:'Reg',\r\n\tdata(){\r\n\t\tvar validatePassword = (rule, value, callback) => {\r\n\t\t\tif (value !== this.regForm.password) {\r\n\t\t\t\tcallback(new Error('两次输入密码不一致!'));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar validateUsername= ( rule,value,callback ) =>{\r\n\t\t\tif(!(/^[1-9][0-9]+[A-Z]?[0-9]+$/).test(value)){\r\n\t\t\t\tcallback(new Error(\"学号输入不正确\"));\r\n\t\t\t}else {\r\n\t\t \t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar validateName= ( rule,value,callback ) =>{\r\n\t\t\t// 只能是中文\r\n\t\t\tif(!(/([\\u4e00-\\u9fa5]{2,5})/).test(value)){\r\n\t\t\t\tcallback(new Error(\"请输入你的中文姓名\"));\r\n\t\t\t}else {\r\n\t\t  \t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn{\r\n\t\t\treging:false,\r\n\t\t\tinstitute:[],\r\n\t\t\tregForm:{\r\n\t\t\t\tusername:\"\",\r\n\t\t\t\tpassword:\"\",\r\n\t\t\t\trepassword:\"\",\r\n\t\t\t\tname:\"\",\r\n\t\t\t},\r\n\t\t\tregRules:{\r\n\t\t\t\tusername:[\r\n\t\t\t\t\t{required:true,message:\"请输入学号\",trigger:\"blur\"},\r\n\t\t\t\t\t{min:9,max:10,message:\"学号输入不正确\",trigger:\"blur\"},\r\n\t\t\t\t\t{validator:validateUsername,trigger:\"blur\"}\r\n\t\t\t\t],\r\n\t\t\t\tpassword:[\r\n\t\t\t\t\t{required:true,message:\"请输入密码\",trigger:\"blur\"},\r\n\t\t\t\t\t{min:8,max:16,message:\"长度为8~16\",trigger:\"blur\"},\r\n\t\t\t\t],\r\n\t\t\t\trepassword:[\r\n\t\t\t\t\t{required:true,message:\"请再次输入密码\",trigger:\"blur\"},\r\n\t\t\t\t\t{validator:validatePassword,trigger:\"blur\"}\r\n\t\t\t\t],\r\n\t\t\t\tname:[\r\n\t\t\t\t\t{required:true,message:\"请输入姓名\",trigger:\"blur\"},\r\n\t\t\t\t\t{validator:validateName,trigger:\"blur\"}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t}\r\n\t},\t\r\n    methods: {\r\n\t\tregSubmit(formName) {\r\n\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t      if (valid) {\r\n            \tthis.reging = true;\r\n            \tlet para={\r\n            \t\tusername:this.regForm.username,\r\n            \t\tpassword:this.regForm.password,\r\n            \t\tname:this.regForm.name\r\n            \t}\r\n\t\t      \trequestRegister(para).then((res)=>{\r\n            \t\tthis.reging = false;\r\n          \t\t\tlet {code,msg,data}=res.data;\r\n          \t\t\tconsole.log(res);\r\n            \t\tif(code==200){\r\n\t              \t\tlocalStorage.setItem(\"role\",1);\r\n\t              \t\tlocalStorage.setItem(\"name\",data.user.name);\r\n\t              \t\tlocalStorage.setItem(\"avatar\",data.user.avatar||\"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3502149281,2119482052&fm=27&gp=0.jpg\");\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t            path:'personCenter'\r\n\t\t\t\t        });\r\n            \t\t}\r\n\t\t      \t\telse{\r\n            \t\t\tthis.$message.error(msg)\r\n\t\t\t\t\t}\r\n\t\t      \t}).catch((err)=>{ \r\n\t\t      \t\tconsole.log(err);\r\n\t\t\t        this.$message.error(\"注册失败，再试一次\");\r\n\t\t      \t})\r\n\t\t      }else {\r\n\t\t        this.$message.error('输入有误');\r\n\t\t      }\r\n\t\t    });\r\n\t\t},\r\n  \t},\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$rfw:280px;//registerFormWidth\r\n$rfmt:90px;//registerFormMarginTop\r\n.regContainer{\r\n\t.regForm{\r\n\t\twidth:$rfw;\r\n\t\tmargin:$rfmt auto 0;\r\n    \tpadding: 35px 35px 15px 35px;\r\n\t    -webkit-border-radius: 5px;\r\n\t    border-radius: 5px;\r\n\t    -moz-border-radius: 5px;\r\n\t    background-clip: padding-box;\r\n\t    border: 1px solid #eaeaea;\r\n\t    box-shadow: 0 0 25px #cac6c6;\r\n\t    text-align:center;\r\n\t\t.title{\r\n\t      margin: 0px auto 40px auto;\r\n\t      text-align: center;\r\n\t      color: #505458;\r\n\t\t}\r\n\t\t#regSubmit{\r\n\t\t\twidth:$rfw;\r\n\t\t\tmargin-top:10px;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"regContainer\"},[_c('el-form',{ref:\"regForm\",staticClass:\"regForm\",attrs:{\"model\":_vm.regForm,\"rules\":_vm.regRules,\"size\":\"medium\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"学生注册\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.regForm.name),callback:function ($$v) {_vm.$set(_vm.regForm, \"name\", $$v)},expression:\"regForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号，即学号\"},model:{value:(_vm.regForm.username),callback:function ($$v) {_vm.$set(_vm.regForm, \"username\", $$v)},expression:\"regForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.regForm.password),callback:function ($$v) {_vm.$set(_vm.regForm, \"password\", $$v)},expression:\"regForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"repassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.regForm.repassword),callback:function ($$v) {_vm.$set(_vm.regForm, \"repassword\", $$v)},expression:\"regForm.repassword\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"id\":\"regSubmit\",\"loading\":_vm.reging},on:{\"click\":function($event){_vm.regSubmit('regForm')}}},[_vm._v(\"注册\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('router-link',{staticClass:\"logLink\",attrs:{\"to\":{name:'Login'}}},[_c('i',{staticClass:\"el-icon-d-arrow-right\"}),_c('i',{staticClass:\"el-icon-d-arrow-right\"}),_c('i',{staticClass:\"el-icon-d-arrow-right\"}),_vm._v(\"登录\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40a916b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40a916b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40a916b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40a916b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}